<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Java基础," />










<meta name="description" content="一、final、finally、finalize的区别final：java中的关键字，修饰符 A).如果一个类被声明为final，就意味着它不能再派生出新的子类，不能作为父类被继承。因此，一个类不能同时被声明为abstract抽象类的和final的类。B).如果将变量或者方法声明为final，可以保证它们在使用中不被改变.  被声明为final的变量必须在声明时给定初值，而在以后的引用中只能读取，">
<meta property="og:type" content="article">
<meta property="og:title" content="Java基础">
<meta property="og:url" content="http://yoursite.com/2020/02/18/Java%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/index.html">
<meta property="og:site_name" content="ZWB@WF">
<meta property="og:description" content="一、final、finally、finalize的区别final：java中的关键字，修饰符 A).如果一个类被声明为final，就意味着它不能再派生出新的子类，不能作为父类被继承。因此，一个类不能同时被声明为abstract抽象类的和final的类。B).如果将变量或者方法声明为final，可以保证它们在使用中不被改变.  被声明为final的变量必须在声明时给定初值，而在以后的引用中只能读取，">
<meta property="og:image" content="http://mycsdnblog.work/201919061054-m.png">
<meta property="og:image" content="http://yoursite.com/.com//1551592963527.png">
<meta property="og:image" content="http://yoursite.com/.com//1561973717974.png">
<meta property="og:image" content="http://mycsdnblog.work/201919141921-T.png">
<meta property="og:image" content="http://mycsdnblog.work/201919141948-H.png">
<meta property="og:image" content="http://mycsdnblog.work/201919141953-J.png">
<meta property="og:image" content="http://mycsdnblog.work/201919141955-9.png">
<meta property="og:image" content="http://mycsdnblog.work/201919142004-2.png">
<meta property="og:image" content="http://mycsdnblog.work/201919142017-F.png">
<meta property="og:image" content="http://mycsdnblog.work/201919122049-L.png">
<meta property="og:image" content="http://mycsdnblog.work/201919152249-a.png">
<meta property="og:image" content="http://mycsdnblog.work/201919152250-n.png">
<meta property="og:image" content="http://mycsdnblog.work/201919152250-9.png">
<meta property="og:image" content="http://mycsdnblog.work/201919152251-y.png">
<meta property="og:image" content="http://mycsdnblog.work/201919152252-T.png">
<meta property="og:image" content="http://mycsdnblog.work/201919152253-t.png">
<meta property="og:image" content="http://mycsdnblog.work/201919111010-0.png">
<meta property="og:image" content="http://mycsdnblog.work/201919111012-s.png">
<meta property="og:image" content="http://mycsdnblog.work/201919160937-r.png">
<meta property="og:image" content="http://mycsdnblog.work/201919041924-a.png">
<meta property="og:image" content="http://mycsdnblog.work/201919161441-u.png">
<meta property="og:image" content="http://mycsdnblog.work/201919171559-E.png">
<meta property="og:image" content="http://mycsdnblog.work/201919011617-G.png">
<meta property="article:published_time" content="2020-02-18T07:05:07.006Z">
<meta property="article:modified_time" content="2020-02-18T04:09:06.846Z">
<meta property="article:author" content="ZWB">
<meta property="article:tag" content="Java基础">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://mycsdnblog.work/201919061054-m.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":20,"b2t":true,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":5},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/02/18/Java之异常处理/"/>





  <title>Java基础 | ZWB@WF</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?70315e4dcd5713e8cc65f04eda22788d";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    <a href="https://github.com/zwb999wf" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#64CEAA; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">ZWB@WF</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/18/Java%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="ZWB">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/wechat-head.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ZWB@WF">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Java基础</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-02-18T15:05:07+08:00">
                2020-02-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/02/18/Java%E4%B9%8B%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" class="leancloud_visitors" data-flag-title="Java基础">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  15.5k 字
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  60  分钟
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="一、final、finally、finalize的区别"><a href="#一、final、finally、finalize的区别" class="headerlink" title="一、final、finally、finalize的区别"></a>一、final、finally、finalize的区别</h1><p><strong>final：java中的关键字，修饰符</strong></p>
<p>A).如果一个类被声明为final，就意味着它不能再派生出新的子类，不能作为父类被继承。因此，一个类不能同时被声明为abstract抽象类的和final的类。<br>B).如果将变量或者方法声明为final，可以保证它们在使用中不被改变.</p>
<ul>
<li>被声明为final的变量必须在声明时给定初值，而在以后的引用中只能读取，不可修改。 </li>
<li>被声明final的方法只能使用，不能重载。</li>
</ul>
<p><strong>finally：java的一种异常处理机制。</strong></p>
<p>finally是对Java异常处理模型的最佳补充。finally结构使代码总会执行，而不管无异常发生。使用finally可以维护对象的内部状态，并可以清理非内存资源。特别是在关闭数据库连接这方面，如果程序员把数据库连接的close()方法放到finally中，就会大大降低程序出错的几率。</p>
<p><strong>finalize：Java中的一个方法名</strong></p>
<p>Java技术使用finalize()方法在垃圾收集器将对象从内存中清除出去前，做必要的清理工作。这个方法是由垃圾收集器在确定这个对象没被引用时对这个对象调用的。它是在Object类中定义的，因此所的类都继承了它。子类覆盖finalize()方法以整理系统资源或者执行其他清理工作。<strong>finalize()方法是在垃圾收集器删除对象之前对这个对象调用的。</strong></p>
<p>  <strong>对象的销毁过程</strong> </p>
<p>在对象的销毁过程中，按照对象的finalize的执行情况，可以分为以下几种，系统会记录对象的对应状态：</p>
<ul>
<li>unfinalized 没有执行finalize，系统也不准备执行。 </li>
<li>finalizable 可以执行finalize了，系统会在随后的某个时间执行finalize。 </li>
<li>finalized 该对象的finalize已经被执行了。 </li>
</ul>
<p>GC怎么来保持对finalizable的对象的追踪呢。GC有一个Queue，叫做F-Queue，所有对象在变为finalizable的时候会加入到该Queue，然后等待GC执行它的finalize方法。 </p>
<p>这时我们引入了对对象的另外一种记录分类，系统可以检查到一个对象属于哪一种。<br>reachable 从活动的对象引用链可以到达的对象。包括所有线程当前栈的局部变量，所有的静态变量等等。<br>finalizer-reachable 除了reachable外，从F-Queue可以通过引用到达的对象。<br>unreachable 其它的对象。 </p>
<p>1 首先，所有的对象都是从Reachable+Unfinalized走向死亡之路的。 </p>
<p>2 当从当前活动集到对象不可达时，对象可以从Reachable状态变到F-Reachable或者Unreachable状态。 </p>
<p>3 当对象为非Reachable+Unfinalized时，GC会把它移入F-Queue，状态变为F-Reachable+Finalizable。 </p>
<p>4 好了，关键的来了，任何时候，GC都可以从F-Queue中拿到一个Finalizable的对象，标记它为Finalized，然后执行它的finalize方法，由于该对象在这个线程中又可达了，于是该对象变成Reachable了（并且Finalized）。而finalize方法执行时，又有可能把其它的F-Reachable的对象变为一个Reachable的，这个叫做对象再生。 </p>
<p>5 当一个对象在Unreachable+Unfinalized时，如果该对象使用的是默认的Object的finalize，或者虽然重写了，但是新的实现什么也不干。为了性能，GC可以把该对象之间变到Reclaimed状态直接销毁，而不用加入到F-Queue等待GC做进一步处理。 </p>
<p>6 从状态图看出，不管怎么折腾，任意一个对象的finalize只至多执行一次，一旦对象变为Finalized，就怎么也不会在回到F-Queue去了。当然没有机会再执行finalize了。 </p>
<p>7 当对象处于Unreachable+Finalized时，该对象离真正的死亡不远了。GC可以安全的回收该对象的内存了。进入Reclaimed。 </p>
<h1 id="二、Java中的String，StringBuilder，StringBuffer三者的区别"><a href="#二、Java中的String，StringBuilder，StringBuffer三者的区别" class="headerlink" title="二、Java中的String，StringBuilder，StringBuffer三者的区别"></a>二、Java中的String，StringBuilder，StringBuffer三者的区别</h1><p>这三个类之间的区别主要是在两个方面，即运行速度和线程安全这两方面。</p>
<ol>
<li>首先说运行速度，或者说是执行速度，<strong>在这方面运行速度快慢为：StringBuilder &gt; StringBuffer &gt; String</strong></li>
</ol>
<p>　　<strong>String最慢的原因：</strong></p>
<p>　　<strong>String为字符串常量，而StringBuilder和StringBuffer均为字符串变量，即String对象一旦创建之后该对象是不可更改的，但后两者的对象是变量，是可以更改的。</strong>以下面一段代码为例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> String str=<span class="string">"abc"</span>;</span><br><span class="line"><span class="number">2</span> System.out.println(str);</span><br><span class="line"><span class="number">3</span> str=str+<span class="string">"de"</span>;</span><br><span class="line"><span class="number">4</span> System.out.println(str);</span><br></pre></td></tr></table></figure>

<p>　　如果运行这段代码会发现先输出“abc”，然后又输出“abcde”，好像是str这个对象被更改了，其实，这只是一种假象罢了，JVM对于这几行代码是这样处理的，首先创建一个String对象str，并把“abc”赋值给str，然后在第三行中，其实JVM又创建了一个新的对象也名为str，然后再把原来的str的值和“de”加起来再赋值给新的str，而原来的str就会被JVM的垃圾回收机制（GC）给回收掉了，所以，str实际上并没有被更改，也就是前面说的String对象一旦创建之后就不可更改了。所以，<strong>Java中对String对象进行的操作实际上是一个不断创建新的对象并且将旧的对象回收的一个过程，所以执行速度很慢。</strong></p>
<p>　　而StringBuilder和StringBuffer的对象是变量，对变量进行操作就是直接对该对象进行更改，而不进行创建和回收的操作，所以速度要比String快很多。</p>
<p>　　另外，有时候我们会这样对字符串进行赋值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> String str=<span class="string">"abc"</span>+<span class="string">"de"</span>;</span><br><span class="line"><span class="number">2</span> StringBuilder stringBuilder=<span class="keyword">new</span> StringBuilder().append(<span class="string">"abc"</span>).append(<span class="string">"de"</span>);</span><br><span class="line"><span class="number">3</span> System.out.println(str);</span><br><span class="line"><span class="number">4</span> System.out.println(stringBuilder.toString());</span><br></pre></td></tr></table></figure>

<p>　　这样输出结果也是“abcde”和“abcde”，但是String的速度却比StringBuilder的反应速度要快很多，这是因为第1行中的操作和</p>
<p>　　String str=”abcde”;</p>
<p>　　是完全一样的，所以会很快，而如果写成下面这种形式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 String str1&#x3D;&quot;abc&quot;;</span><br><span class="line">2 String str2&#x3D;&quot;de&quot;;</span><br><span class="line">3 String str&#x3D;str1+str2;</span><br></pre></td></tr></table></figure>

<p>　　那么JVM就会像上面说的那样，不断的创建、回收对象来进行这个操作了。速度就会很慢。</p>
<p>　　2. 再来说线程安全</p>
<p>　　<strong>在线程安全上，StringBuilder是线程不安全的，而StringBuffer是线程安全的</strong></p>
<p>　　如果一个StringBuffer对象在字符串缓冲区被多个线程使用时，StringBuffer中很多方法可以带有synchronized关键字，所以可以保证线程是安全的，但StringBuilder的方法则没有该关键字，所以不能保证线程安全，有可能会出现一些错误的操作。所以如果要进行的操作是多线程的，那么就要使用StringBuffer，但是在单线程的情况下，还是建议使用速度比较快的StringBuilder。</p>
<p>　　3. 总结一下<br>　　<strong>String：适用于少量的字符串操作的情况</strong></p>
<p>　　<strong>StringBuilder：适用于单线程下在字符缓冲区进行大量操作的情况</strong></p>
<p>　　<strong>StringBuffer：适用多线程下在字符缓冲区进行大量操作的情况</strong></p>
<h1 id="三、Arrays-sort-实现原理和-Collections-sort-实现原理"><a href="#三、Arrays-sort-实现原理和-Collections-sort-实现原理" class="headerlink" title="三、Arrays.sort 实现原理和 Collections.sort 实现原理"></a>三、Arrays.sort 实现原理和 Collections.sort 实现原理</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sort</span><span class="params">(<span class="keyword">int</span>[] a)</span> </span>&#123;</span><br><span class="line">    DualPivotQuicksort.sort(a, <span class="number">0</span>, a.length - <span class="number">1</span>, <span class="keyword">null</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><img src="http://mycsdnblog.work/201919061054-m.png" alt="1551191608732"></p>
<h1 id="四、Java中boolean占几个字节"><a href="#四、Java中boolean占几个字节" class="headerlink" title="四、Java中boolean占几个字节"></a>四、Java中boolean占几个字节</h1><p>JVM规范指出boolean当做int处理，也就是4字节，boolean数组当做byte数组处理，这样我们可以得出boolean类型占了单独使用是4个字节，在数组中是确定的1个字节。</p>
<h1 id="五、Java基本类型所占的字节"><a href="#五、Java基本类型所占的字节" class="headerlink" title="五、Java基本类型所占的字节"></a>五、Java基本类型所占的字节</h1><p><img src="/.com//1551592963527.png" alt="1551592963527"></p>
<h1 id="六、Java的虚函数"><a href="#六、Java的虚函数" class="headerlink" title="六、Java的虚函数"></a>六、Java的虚函数</h1><p><strong>java类中普通成员函数就是虚函数。</strong></p>
<p>JAVA中的函数，除非声明为static或final，都可以看做是虚的，因为它们都是动态绑定的</p>
<p><strong>会根据不同的类对象，调用其相应的函数，这个函数就是虚函数。</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.test2;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-03-12 20:24</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.test2;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-03-12 20:25</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Circle</span> <span class="keyword">implements</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"circle"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.test2;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-03-12 20:25</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Square</span> <span class="keyword">implements</span> <span class="title">Shape</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">draw</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"square"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.test2;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-03-12 20:25</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Circle circle = <span class="keyword">new</span> Circle();</span><br><span class="line">        circle.draw();</span><br><span class="line">        Square square = <span class="keyword">new</span> Square();</span><br><span class="line">        square.draw();</span><br><span class="line"></span><br><span class="line">        Shape shape1 = circle;</span><br><span class="line">        Shape shape2 = square;</span><br><span class="line">        shape1.draw();</span><br><span class="line">        shape2.draw();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="七、“方法”"><a href="#七、“方法”" class="headerlink" title="七、“方法”"></a>七、“方法”</h1><h2 id="7-1-Object中的方法"><a href="#7-1-Object中的方法" class="headerlink" title="7.1 Object中的方法"></a>7.1 Object中的方法</h2><p><img src="/.com//1561973717974.png" alt="1551439525914"></p>
<h2 id="7-2-String中常用的方法"><a href="#7-2-String中常用的方法" class="headerlink" title="7.2 String中常用的方法"></a>7.2 String中常用的方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Object类中的方法。</span><br><span class="line">length()</span><br><span class="line">isEmpty()</span><br><span class="line">equals()</span><br><span class="line">toCharArray()</span><br><span class="line">valueOf()</span><br><span class="line">intern()</span><br><span class="line">compareTo()</span><br><span class="line">subString()</span><br><span class="line">contains()</span><br><span class="line">split()</span><br><span class="line">trim()</span><br><span class="line">toLowerCase()</span><br><span class="line">toUpperCase()</span><br><span class="line">startsWith()</span><br></pre></td></tr></table></figure>

<h1 id="八、Java中的浅拷贝和深拷贝"><a href="#八、Java中的浅拷贝和深拷贝" class="headerlink" title="八、Java中的浅拷贝和深拷贝"></a>八、Java中的浅拷贝和深拷贝</h1><h2 id="8-1-浅拷贝"><a href="#8-1-浅拷贝" class="headerlink" title="8.1 浅拷贝"></a>8.1 浅拷贝</h2><h3 id="8-1-1-基本概念"><a href="#8-1-1-基本概念" class="headerlink" title="8.1.1 基本概念"></a>8.1.1 基本概念</h3><p>①对于数据类型是基本数据类型的成员变量，浅拷贝会直接进行值传递，也就是将该属性值复制一份给新的对象。因为是两份不同的数据，所以对其中一个对象的该成员变量值进行修改，不会影响另一个对象拷贝得到的数据。</p>
<p>②对于数据类型是引用数据类型的成员变量，比如说成员变量是某个数组、某个类的对象等，那么浅拷贝会进行引用传递，也就是只是将该成员变量的引用值（内存地址）复制一份给新的对象。因为实际上两个对象的该成员变量都指向同一个实例。在这种情况下，在一个对象中修改该成员变量会影响到另一个对象的该成员变量值</p>
<p>具体模型如图所示：可以看到基本数据类型的成员变量，对其值创建了新的拷贝。而引用数据类型的成员变量的实例仍然是只有一份，两个对象的该成员变量都指向同一个实例。</p>
<p><img src="http://mycsdnblog.work/201919141921-T.png" alt></p>
<h3 id="8-1-2-实现方式"><a href="#8-1-2-实现方式" class="headerlink" title="8.1.2 实现方式"></a>8.1.2 实现方式</h3><blockquote>
<p><strong>通过拷贝构造方法实现浅拷贝</strong></p>
</blockquote>
<p>拷贝构造方法指的是该类的构造方法参数为该类的对象。使用拷贝构造方法可以很好地完成浅拷贝，直接通过一个现有的对象创建出与该对象属性相同的新的对象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> copy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-07-14 19:26</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Copy</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Age age = <span class="keyword">new</span> Age(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(age,<span class="number">20</span>);</span><br><span class="line">        Person p2 = <span class="keyword">new</span> Person(p1);</span><br><span class="line"></span><br><span class="line">        System.out.println(p1);</span><br><span class="line">        System.out.println(p2);</span><br><span class="line"></span><br><span class="line">        p1.setAge2(<span class="number">999</span>);</span><br><span class="line">        age.setAge(<span class="number">99</span>);</span><br><span class="line">        p1.setAge(age);</span><br><span class="line"></span><br><span class="line">        System.out.println(p1);</span><br><span class="line">        System.out.println(p2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Age age;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age2;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(Age age, <span class="keyword">int</span> age2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.age2 = age2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 拷贝构造方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> person</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(Person person)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = person.age;</span><br><span class="line">        <span class="keyword">this</span>.age2 = person.age2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Age <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Age age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge2</span><span class="params">(<span class="keyword">int</span> age2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age2 = age2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Person&#123;"</span> +</span><br><span class="line">                <span class="string">"age="</span> + age +</span><br><span class="line">                <span class="string">", age2="</span> + age2 +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Age</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Age</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Age&#123;"</span> +</span><br><span class="line">                <span class="string">"age="</span> + age +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行结果：</p>
<p><img src="http://mycsdnblog.work/201919141948-H.png" alt></p>
<p>结果分析：</p>
<p><strong>age为引用类型，age2为基本类型</strong></p>
<p>修改p1的age，p2的age也随之改变</p>
<p>修改p1的age2，p2的age2不变。</p>
<blockquote>
<p><strong>通过重写clone()方法进行浅拷贝</strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> copy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-07-14 19:26</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Copy</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        Age age = <span class="keyword">new</span> Age(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(age,<span class="number">20</span>);</span><br><span class="line">        Person p2 = (Person) p1.clone();</span><br><span class="line"></span><br><span class="line">        System.out.println(p1);</span><br><span class="line">        System.out.println(p2);</span><br><span class="line"></span><br><span class="line">        p1.setAge2(<span class="number">999</span>);</span><br><span class="line">        age.setAge(<span class="number">99</span>);</span><br><span class="line">        p1.setAge(age);</span><br><span class="line"></span><br><span class="line">        System.out.println(p1);</span><br><span class="line">        System.out.println(p2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Cloneable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Age age;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age2;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(Age age, <span class="keyword">int</span> age2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.age2 = age2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.clone();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Age <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Age age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge2</span><span class="params">(<span class="keyword">int</span> age2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age2 = age2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Person&#123;"</span> +</span><br><span class="line">                <span class="string">"age="</span> + age +</span><br><span class="line">                <span class="string">", age2="</span> + age2 +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Age</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Age</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Age&#123;"</span> +</span><br><span class="line">                <span class="string">"age="</span> + age +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="http://mycsdnblog.work/201919141953-J.png" alt></p>
<h2 id="8-2-深拷贝"><a href="#8-2-深拷贝" class="headerlink" title="8.2 深拷贝"></a>8.2 深拷贝</h2><h3 id="8-2-1-基本概念"><a href="#8-2-1-基本概念" class="headerlink" title="8.2.1 基本概念"></a>8.2.1 基本概念</h3><p>首先介绍对象图的概念。设想一下，一个类有一个对象，其成员变量中又有一个对象，该对象指向另一个对象，另一个对象又指向另一个对象，直到一个确定的实例。这就形成了对象图。<strong>那么，对于深拷贝来说，不仅要复制对象的所有基本数据类型的成员变量值，还要为所有引用数据类型的成员变量申请存储空间，并复制每个引用数据类型成员变量所引用的对象，直到该对象可达的所有对象</strong>。<strong>也就是说，对象进行深拷贝要对整个对象图进行拷贝！</strong></p>
<p><strong>简单地说，深拷贝对引用数据类型的成员变量的对象图中所有的对象都开辟了内存空间；而浅拷贝只是传递地址指向，新的对象并没有对引用数据类型创建内存空间。</strong></p>
<p>深拷贝模型如图所示：可以看到所有的成员变量都进行了复制。</p>
<p><img src="http://mycsdnblog.work/201919141955-9.png" alt></p>
<p>因为创建内存空间和拷贝整个对象图，所以深拷贝相比于浅拷贝速度较慢并且花销较大。</p>
<h3 id="8-2-2-实现方式"><a href="#8-2-2-实现方式" class="headerlink" title="8.2.2 实现方式"></a>8.2.2 实现方式</h3><blockquote>
<p><strong>通过重写clone方法来实现深拷贝</strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> copy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-07-14 19:26</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Copy</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        Age age = <span class="keyword">new</span> Age(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(age,<span class="number">20</span>);</span><br><span class="line">        Person p2 = (Person) p1.clone();</span><br><span class="line"></span><br><span class="line">        System.out.println(p1);</span><br><span class="line">        System.out.println(p2);</span><br><span class="line"></span><br><span class="line">        p1.setAge2(<span class="number">999</span>);</span><br><span class="line">        age.setAge(<span class="number">99</span>);</span><br><span class="line">        p1.setAge(age);</span><br><span class="line"></span><br><span class="line">        System.out.println(p1);</span><br><span class="line">        System.out.println(p2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Cloneable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Age age;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age2;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(Age age, <span class="keyword">int</span> age2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.age2 = age2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        Object obj;</span><br><span class="line">        obj = <span class="keyword">super</span>.clone();</span><br><span class="line">        Person person = (Person) obj;</span><br><span class="line">        person.setAge((Age) person.getAge().clone());</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Age <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Age age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge2</span><span class="params">(<span class="keyword">int</span> age2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age2 = age2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Person&#123;"</span> +</span><br><span class="line">                <span class="string">"age="</span> + age +</span><br><span class="line">                <span class="string">", age2="</span> + age2 +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Age</span> <span class="keyword">implements</span> <span class="title">Cloneable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Age</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Age&#123;"</span> +</span><br><span class="line">                <span class="string">"age="</span> + age +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.clone();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="http://mycsdnblog.work/201919142004-2.png" alt></p>
<p>分析结果可以验证：进行了深拷贝之后，无论是什么类型的属性值的修改，都不会影响另一个对象的属性值。</p>
<blockquote>
<p><strong>通过序列化的方式进行深拷贝</strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> copy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-07-14 19:26</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Copy</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> CloneNotSupportedException, IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        Age age = <span class="keyword">new</span> Age(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">        Person p1 = <span class="keyword">new</span> Person(age,<span class="number">20</span>);</span><br><span class="line">        <span class="comment">//序列化</span></span><br><span class="line">        ByteArrayOutputStream byteArrayOutputStream = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">        ObjectOutputStream outputStream = <span class="keyword">new</span> ObjectOutputStream(byteArrayOutputStream);</span><br><span class="line">        outputStream.writeObject(p1);</span><br><span class="line">        outputStream.flush();</span><br><span class="line">        ObjectInputStream objectInputStream = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> ByteArrayInputStream(byteArrayOutputStream.toByteArray()));</span><br><span class="line">        Person p2 = (Person) objectInputStream.readObject();</span><br><span class="line">        </span><br><span class="line">        System.out.println(p1);</span><br><span class="line">        System.out.println(p2);</span><br><span class="line"></span><br><span class="line">        p1.setAge2(<span class="number">999</span>);</span><br><span class="line">        age.setAge(<span class="number">99</span>);</span><br><span class="line">        p1.setAge(age);</span><br><span class="line"></span><br><span class="line">        System.out.println(p1);</span><br><span class="line">        System.out.println(p2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Age age;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age2;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(Age age, <span class="keyword">int</span> age2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.age2 = age2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Age <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Age age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge2</span><span class="params">(<span class="keyword">int</span> age2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age2 = age2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Person&#123;"</span> +</span><br><span class="line">                <span class="string">"age="</span> + age +</span><br><span class="line">                <span class="string">", age2="</span> + age2 +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Age</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Age</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Age&#123;"</span> +</span><br><span class="line">                <span class="string">"age="</span> + age +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="http://mycsdnblog.work/201919142017-F.png" alt></p>
<h1 id="九、Java中的权限"><a href="#九、Java中的权限" class="headerlink" title="九、Java中的权限"></a>九、Java中的权限</h1><p>​       1、私有权限（private）</p>
<p>　　private可以修饰数据成员，构造方法，方法成员，不能修饰类（此处指外部类，不考虑内部类）。被private修饰的成员，只能在定义它们的类中使用，在其他类中不能调用。</p>
<p>　　2、默认权限（default）</p>
<p>　　类，数据成员，构造方法，方法成员，都能够使用默认权限，<strong>即不写任何关键字</strong>。默认权限即同包权限，同包权限的元素只能在定义它们的类中，以及同包的类中被调用。</p>
<p>　　3、受保护权限（protected）</p>
<p>　　protected可以修饰数据成员，构造方法，方法成员，不能修饰类（此处指外部类，不考虑内部类）。被protected修饰的成员，能在定义它们的类中，同包的类中被调用。如果有不同包的类想调用它们，那么这个类必须是定义它们的类的子类。</p>
<p>　　4、公共权限（public）</p>
<p>　　public可以修饰类，数据成员，构造方法，方法成员。被public修饰的成员，可以在任何一个类中被调用，不管同包或不同包，是权限最大的一个修饰符。  </p>
<h1 id="十、一个class文件中可以有几个类"><a href="#十、一个class文件中可以有几个类" class="headerlink" title="十、一个class文件中可以有几个类"></a>十、一个class文件中可以有几个类</h1><p>可以有多个类，但是：</p>
<p>1.public 权限的类只能有一个（也可以一个都没有，但最多只有1个）<br>2.这个.java文件的文件名必须是public类的类名（一般的情况下，这里放置main方法是程序的入口。）<br>3.若这个文件中没有public的类，则文件名随便是一个类的名字即可<br>4.你用Javac 编译这个.java文件的时候，它会给每一个类生成一个.class文件</p>
<h1 id="十一、Abstract类与接口类的区别，为什么有了接口类还要用抽象类"><a href="#十一、Abstract类与接口类的区别，为什么有了接口类还要用抽象类" class="headerlink" title="十一、Abstract类与接口类的区别，为什么有了接口类还要用抽象类"></a>十一、Abstract类与接口类的区别，为什么有了接口类还要用抽象类</h1><p>1.抽象类和接口类的对比：</p>
<table>
<thead>
<tr>
<th align="center"><strong>参数</strong></th>
<th align="center"><strong>抽象类</strong></th>
<th align="center"><strong>接口</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">默认的方法实现</td>
<td align="center">它可以有默认的方法实现</td>
<td align="center">接口完全是抽象的。它根本不存在方法的实现</td>
</tr>
<tr>
<td align="center">实现</td>
<td align="center">子类使用<strong>extends</strong>关键字来继承抽象类。如果子类不是抽象类的话，它需要提供抽象类中所有声明的方法的实现。</td>
<td align="center">子类使用关键字<strong>implements</strong>来实现接口。它需要提供接口中所有声明的方法的实现</td>
</tr>
<tr>
<td align="center">构造器</td>
<td align="center">抽象类可以有构造器</td>
<td align="center">接口不能有构造器</td>
</tr>
<tr>
<td align="center">与正常Java类的区别</td>
<td align="center">除了你不能实例化抽象类之外，它和普通Java类没有任何区别</td>
<td align="center">接口是完全不同的类型</td>
</tr>
<tr>
<td align="center">访问修饰符</td>
<td align="center">抽象方法可以有<strong>public</strong>、<strong>protected</strong>和<strong>default</strong>这些修饰符</td>
<td align="center">接口方法默认修饰符是<strong>public</strong>。你不可以使用其它修饰符。</td>
</tr>
<tr>
<td align="center">main方法</td>
<td align="center">抽象方法可以有main方法并且我们可以运行它</td>
<td align="center">接口没有main方法，因此我们不能运行它。</td>
</tr>
<tr>
<td align="center">多继承</td>
<td align="center">抽象方法可以继承一个类和实现多个接口</td>
<td align="center">接口只可以继承一个或多个其它接口</td>
</tr>
<tr>
<td align="center">速度</td>
<td align="center"><strong>它比接口速度要快</strong></td>
<td align="center">接口是稍微有点慢的，因为它需要时间去寻找在类中实现的方法。</td>
</tr>
<tr>
<td align="center">添加新方法</td>
<td align="center">如果你往抽象类中添加新的方法，你可以给它提供默认的实现。因此你不需要改变你现在的代码。</td>
<td align="center">如果你往接口中添加方法，那么你必须改变实现该接口的类。</td>
</tr>
</tbody></table>
<p>2.什么时候使用抽象类和接口</p>
<ul>
<li>如果你拥有一些方法并且想让它们中的一些有默认实现，那么使用抽象类吧。</li>
<li>如果你想实现多重继承，那么你必须使用接口。由于<strong>Java不支持多继承</strong>，子类不能够继承多个类，但可以实现多个接口。因此你就可以使用接口来解决它。</li>
<li>如果基本功能在不断改变，那么就需要使用抽象类。如果不断改变基本功能并且使用接口，那么就需要改变所有实现了该接口的类。</li>
</ul>
<p>3.Java8的改进</p>
<p>接口中可以声明default方法。default方法是指，在接口内部包含了一些默认的方法实现（也就是接口中可以包含方法体，这打破了Java之前版本对接口的语法限制），从而使得接口在进行扩展的时候，不会破坏与接口相关的实现类代码。</p>
<p>如果一个类实现了两个接口（可以看做是“多继承”），这两个接口又同时都包含了一个名字相同的default方法，那么会发生什么情况？ 在这样的情况下，编译器会报错。让我用例子来解释一下：</p>
<p><img src="http://mycsdnblog.work/201919122049-L.png" alt></p>
<h1 id="十二、自然排序和定制排序"><a href="#十二、自然排序和定制排序" class="headerlink" title="十二、自然排序和定制排序"></a>十二、自然排序和定制排序</h1><p>自然排序是通过实现了的Comparable来进行的</p>
<p>定制排序是实现Comparator</p>
<h1 id="十四、equals和hashcode的区别以及联系"><a href="#十四、equals和hashcode的区别以及联系" class="headerlink" title="十四、equals和hashcode的区别以及联系"></a>十四、equals和hashcode的区别以及联系</h1><p>1.equals方法</p>
<p>自反性 ： x.equals(x) 结果应该返回true。</p>
<p>对称性 ： x.equals(y) 结果返回true当且仅当y.equals(x)也应该返回true。</p>
<p>传递性 ： x.equals(y) 返回true，并且y.equals(z) 返回true，那么x.equals(z) 也应该返回true。</p>
<p>一致性 ： x.equals(y)的第一次调用为true，那么x.equals(y)的第二次，第三次等多次调用也应该为true，但是前提条件是在进行比较之前，x和y都没有被修改。</p>
<p>x.equals(null) 应该返回false。</p>
<p>这个方法返回true当且仅当x和y指向了同样的对象(x==y)，这句话也就是说明了在默认情况下，<strong>Object类中的equals方法默认比较的是对象的地址，因为只有是相同的地址才会相等(x == y)，如果没有重写equals方法，那么默认就是比较的是地址。</strong>注意：<strong>无论何时这个equals方法被重写那么都是有必要去重写hashCode方法，这个是因为为了维持hashCode的一种约定，相同的对象必须要有相同的hashCode值。</strong></p>
<p>2.hashcode</p>
<p>在同一次的java程序应用过程中，对应同样的对象多次调用hashCode方法，hashCode方法必须一致性的返回同样的一个地址值，前提是这个对象不能改变</p>
<p>两个对象相同是依据equals方法来的，那么其中的每一个对象调用hashCode方法都必须返回相同的一个integer值，也就是对象的地址。equals方法相等，那么hashCode方法也必须相等。</p>
<p>如果两个对象依据equals方法返回的结果不相等，那么对于其中的每一个对象调用hashCode方法返回的结果也不是一定必须得相等（也就是说，equals方法的结果为false，那么hashCode方法返回的结果可以相同也可以不相同），但是，对于我们开发者来说，针对两个对象的不相等如果生成相同的hashCode则可以提高应用程序的性能。</p>
<p>​         1.equal()相等的两个对象他们的hashCode()肯定相等，也就是用equal()对比是绝对可靠的。</p>
<p>​         2.hashCode()相等的两个对象他们的equal()不一定相等，也就是hashCode()不是绝对可靠的。</p>
<p>hashCode是jdk根据对象的地址或者字符串或者数字算出来的int类型的数值 </p>
<p><strong>并不是所有重写equals()的时候都要重写hashCode()，如果不涉及到哈希表的话，就不需要了。</strong></p>
<h1 id="十五：自动装箱与拆箱"><a href="#十五：自动装箱与拆箱" class="headerlink" title="十五：自动装箱与拆箱"></a>十五：自动装箱与拆箱</h1><h2 id="15-1-基本概念"><a href="#15-1-基本概念" class="headerlink" title="15.1 基本概念"></a>15.1 基本概念</h2><p>装箱：将基本类型用他们对应的引用类型包装起来</p>
<p>拆箱：将包装类型转换为基本数据类型</p>
<p>如何实现?</p>
<p>拿Integer来举例说明：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Integer integer = <span class="number">10</span>; <span class="comment">//装箱</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i = integer; <span class="comment">//拆箱</span></span><br></pre></td></tr></table></figure>

<p><strong>装箱：主要调用的是Integer的valueOf(int)方法</strong></p>
<p><strong>拆箱：自动调用Integer的intValue方法</strong></p>
<p>装箱过程是通过调用包装器的valueOf方法实现的，而拆箱过程是通过调用包装器的 xxxValue方法实现的。（xxx代表对应的基本数据类型）。</p>
<ol>
<li><p>int 和Integer在进行比较的时候，Integer会进行拆箱，转为int值与int进行比较。</p>
</li>
<li><p><strong>Integer与Integer比较的时候，由于直接赋值的时候会进行自动的装箱，那么这里就需要注意两个问题，一个是-128&lt;= x&lt;=127的整数，将会直接缓存在IntegerCache中，那么当赋值在这个区间的时候，不会创建新的Integer对象，而是从缓存中获取已经创建好的Integer对象。二：当大于这个范围的时候，直接new Integer来创建Integer对象。</strong></p>
</li>
<li><p>new Integer(1) 和Integer a = 1不同，前者会创建对象，存储在堆中，而后者因为在-128到127的范围内，不会创建新的对象，而是从IntegerCache中获取的。那么Integer a = 128, 大于该范围的话才会直接通过new Integer（128）创建对象，进行装箱。</p>
</li>
</ol>
<h2 id="15-2-实战"><a href="#15-2-实战" class="headerlink" title="15.2 实战"></a>15.2 实战</h2><h3 id="15-2-1-示例1"><a href="#15-2-1-示例1" class="headerlink" title="15.2.1 示例1"></a>15.2.1 示例1</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-07-01 20:11</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Integer a = <span class="number">100</span>;</span><br><span class="line">        Integer b = <span class="number">100</span>;</span><br><span class="line">        Integer c = <span class="number">200</span>;</span><br><span class="line">        Integer d = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line">        System.out.println(a == b);</span><br><span class="line">        System.out.println(c == d);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回结果为：</p>
<blockquote>
<p>true<br>false</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title">valueOf</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= IntegerCache.low &amp;&amp; i &lt;= IntegerCache.high)</span><br><span class="line">        <span class="keyword">return</span> IntegerCache.cache[i + (-IntegerCache.low)];</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Integer(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerCache</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> low = -<span class="number">128</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> high;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> Integer cache[];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="comment">// high value may be configured by property</span></span><br><span class="line">        <span class="keyword">int</span> h = <span class="number">127</span>;</span><br><span class="line">        String integerCacheHighPropValue =</span><br><span class="line">            sun.misc.VM.getSavedProperty(<span class="string">"java.lang.Integer.IntegerCache.high"</span>);</span><br><span class="line">        <span class="keyword">if</span> (integerCacheHighPropValue != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">int</span> i = parseInt(integerCacheHighPropValue);</span><br><span class="line">                i = Math.max(i, <span class="number">127</span>);</span><br><span class="line">                <span class="comment">// Maximum array size is Integer.MAX_VALUE</span></span><br><span class="line">                h = Math.min(i, Integer.MAX_VALUE - (-low) -<span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span>( NumberFormatException nfe) &#123;</span><br><span class="line">                <span class="comment">// If the property cannot be parsed into an int, ignore it.</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        high = h;</span><br><span class="line"></span><br><span class="line">        cache = <span class="keyword">new</span> Integer[(high - low) + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> j = low;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; cache.length; k++)</span><br><span class="line">            cache[k] = <span class="keyword">new</span> Integer(j++);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// range [-128, 127] must be interned (JLS7 5.1.7)</span></span><br><span class="line">        <span class="keyword">assert</span> IntegerCache.high &gt;= <span class="number">127</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">IntegerCache</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="15-2-2-示例2"><a href="#15-2-2-示例2" class="headerlink" title="15.2.2 示例2"></a>15.2.2 示例2</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-07-01 20:11</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Double a = <span class="number">100.0</span>;</span><br><span class="line">        Double b = <span class="number">100.0</span>;</span><br><span class="line">        Double c = <span class="number">200.0</span>;</span><br><span class="line">        Double d = <span class="number">200.0</span>;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        System.out.println(a == b);</span><br><span class="line">        System.out.println(c == d);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<blockquote>
<p>false<br>false</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Double <span class="title">valueOf</span><span class="params">(<span class="keyword">double</span> d)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Double(d);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在这里只解释一下为什么Double类的valueOf方法会采用与Integer类的valueOf方法不同的实现。</p>
<p>很简单：<strong>在某个范围内的整型数值的个数是有限的，而浮点数却不是</strong>。</p>
<p>注意：</p>
<ul>
<li>Integer、Short、Byte、Character、Long这几个类的valueOf方法的实现是类似的。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Short <span class="title">valueOf</span><span class="params">(<span class="keyword">short</span> s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> offset = <span class="number">128</span>;</span><br><span class="line">    <span class="keyword">int</span> sAsInt = s;</span><br><span class="line">    <span class="keyword">if</span> (sAsInt &gt;= -<span class="number">128</span> &amp;&amp; sAsInt &lt;= <span class="number">127</span>) &#123; <span class="comment">// must cache</span></span><br><span class="line">        <span class="keyword">return</span> ShortCache.cache[sAsInt + offset];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Short(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Character <span class="title">valueOf</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (c &lt;= <span class="number">127</span>) &#123; <span class="comment">// must cache</span></span><br><span class="line">        <span class="keyword">return</span> CharacterCache.cache[(<span class="keyword">int</span>)c];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Character(c);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Long <span class="title">valueOf</span><span class="params">(<span class="keyword">long</span> l)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> offset = <span class="number">128</span>;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= -<span class="number">128</span> &amp;&amp; l &lt;= <span class="number">127</span>) &#123; <span class="comment">// will cache</span></span><br><span class="line">        <span class="keyword">return</span> LongCache.cache[(<span class="keyword">int</span>)l + offset];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> Long(l);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Double、Float的valueOf方法的实现是类似的。</li>
</ul>
<h1 id="十六、equals和"><a href="#十六、equals和" class="headerlink" title="十六、equals和=="></a>十六、equals和==</h1><p>==：判断两个对象的地址是否相等，基本类型就是判断值是否相等</p>
<p>equals：类没有重写equals方法，等价于==；覆盖的话就是比较两个对象的内容</p>
<h1 id="十七：Java闭包和回调"><a href="#十七：Java闭包和回调" class="headerlink" title="十七：Java闭包和回调"></a>十七：Java闭包和回调</h1><ul>
<li><strong>闭包</strong>是指可以包含自由（未绑定到特定对象）变量的代码块；这些变量不是在这个代码块内或者任何全局上下文中定义的，而是在定义代码块的环境中定义（局部变量）。</li>
<li>是引用了自由变量的函数。这个函数通常被定义在另一个外部函数中，并且引用了外部函数中的变量。</li>
<li>是一个可调用的对象，它记录了一些信息，这些信息来自于创建它的作用域。</li>
</ul>
<p><strong>闭包</strong>能够将一个<strong>方法</strong>作为一个<strong>变量</strong>去存储，这个方法有能力去访问所在类的<strong>自由变量</strong>。</p>
<p>闭包的价值在于可以作为函数对象或者匿名函数，持有上下文数据，作为第一级对象进行传递和保存。闭包广泛用于回调函数、函数式编程中。</p>
<p>在Java中，闭包是 通过“接口与内部类实现的”</p>
<p>闭包（Closure）是一种能被调用的对象，它保存了创建它的作用域的信息。JAVA并不能显式地支持闭包，但是在JAVA中，闭包可以通过“接口+内部类”来实现，因为对于非静态内部类而言，它不仅记录了其外部类的详细信息，还保留了一个创建非静态内部类的引用，通过它可以访问外部类的私有成员，因此可以把非静态内部类当成面向对象领域的闭包。那么，通过这种仿闭包的非静态内部类可以很方便地实现回调，这是一种非常灵活的功能</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-03-13 20:47</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>: 测试闭包</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestClosure</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Food food = <span class="keyword">new</span> Food();</span><br><span class="line">        food.getEat().eat();</span><br><span class="line">        food.getNum();</span><br><span class="line"></span><br><span class="line">        Food pub = <span class="keyword">new</span> Food();</span><br><span class="line">        Food.EatActive eatActive = pub.<span class="keyword">new</span> EatActive();</span><br><span class="line">        eatActive.eat();</span><br><span class="line">        pub.getNum();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Food</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String name = <span class="string">"food"</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> num = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Food</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"my food"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Active <span class="title">getEat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> EatActive();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EatActive</span> <span class="keyword">implements</span> <span class="title">Active</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (num == <span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">"no"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            num--;</span><br><span class="line">            System.out.println(<span class="string">"yes"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getNum</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Active</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>闭包(closure)是一个可调用的对象,它记录了一些信息,这些信息来自于创建它的作用域.</p>
<h1 id="十八、hashCode"><a href="#十八、hashCode" class="headerlink" title="十八、hashCode"></a>十八、hashCode</h1><p>hashCode就是根据存储在一个对象实例中的所有数据，提取出一个<strong>32</strong>位的整数，该整数的目的是用来标示该实例的唯一性，有点类似于MD5码，每个文件都能通过MD5算法生成一个唯一的MD5码。</p>
<h1 id="十九、Math-abs"><a href="#十九、Math-abs" class="headerlink" title="十九、Math.abs"></a>十九、Math.abs</h1><p>Java的API文档中说，对abs(int a)运算，“如果参数等于 Integer.MIN_VALUE 的值(即能够表示的最小负 int 值)，那么结果与该值相同且为负。</p>
<h1 id="二十、static关键字"><a href="#二十、static关键字" class="headerlink" title="二十、static关键字"></a>二十、static关键字</h1><p>static变量也称作静态变量，静态变量和非静态变量的区别是：静态变量被所有的对象所共享，在内存中只有一个副本，<strong>它当且仅当在类初次加载时会被初始化</strong>。<strong>而非静态变量是对象所拥有的，在创建对象的时候被初始化，存在多个副本，各个对象拥有的副本互不影响</strong>。</p>
<p><strong>static成员变量的初始化顺序按照定义的顺序进行初始化</strong>。</p>
<h1 id="二十一、Collection和Collections的区别"><a href="#二十一、Collection和Collections的区别" class="headerlink" title="二十一、Collection和Collections的区别"></a>二十一、Collection和Collections的区别</h1><p>1、java.util.Collection 是一个<strong>集合接口（集合类的一个顶级接口）</strong>。它提供了对集合对象进行基本操作的通用接口方法。Collection接口在Java 类库中有很多具体的实现。Collection接口的意义是为各种具体的集合提供了最大化的统一操作方式，其直接继承接口有List与Set。</p>
<p> Collection<br>├List<br>│├LinkedList<br>│├ArrayList<br>│└Vector<br>│　└Stack<br>└Set</p>
<p>2、Collections则是集合类的一个工具类/帮助类，其中提供了一系列静态方法，用于对集合中元素进行排序、搜索以及线程安全等各种操作。</p>
<h1 id="二十二、Overload和Override的区别？"><a href="#二十二、Overload和Override的区别？" class="headerlink" title="二十二、Overload和Override的区别？"></a>二十二、Overload和Override的区别？</h1><p> Overload是重载的意思，Override是覆盖的意思，也就是重写。</p>
<p>​    重载Overload：在同一个类中，允许存在一个以上的同名函数，只要他们的参数个数或者参数类型不同即可。</p>
<p>​    重载的特点：与返回值类型无关，只看参数列表。</p>
<p>​    重写Override表示子类中的方法可以与父类中的某个方法的<strong>名称和参数完全相同</strong>，通过子类创建的实例对象调用这个方法时，将调用子类中定义的方法，这相当于把父类中定义的那个完全相同的方法给覆盖掉了，这也是面向对象编程的多态的一种表现。子类覆盖父类方法时只能抛出父类的异常或者异常的子类或者父类异常的子集，因为子类可以解决父类的一些问题，但不能比父类有更多的问题。还有，子类方法的访问权限只能比父类的更大，不能更小。如果父类的方法是private类型，则子类中根本不存在覆盖，即子类中和父类的private的同名的方法没有覆盖的关系，因为private的访问权限只限于同一类中，而子类就不会访问到private的方法，所以是子类中增加的一个全新的方法。</p>
<p>​    <strong>重载overload的特点就是与返回值无关，只看参数列表，所以重载的方法是可以改变返回值类型的</strong>。所以，如果两个方法的参数列表完全一样，是不能通过让他们的返回值类型不同来实现重载的。我们可以用反证法来说明这个问题，因为我们有时候调用一个方法时也可以不定义返回结果变量，即不要关心其返回结果，例如，我们调用map.remove(key)方法时，虽然remove方法有返回值，但是我们通常都不会定义接收返回结果的变量，这时候假设该类中有两个名称和参数列表完全相同的方法，仅仅是返回类型不同，java就无法确定编程者倒底是想调用哪个方法了，因为它无法通过返回结果类型来判断。</p>
<h1 id="二十三、Java参数是值传递还是引用传递"><a href="#二十三、Java参数是值传递还是引用传递" class="headerlink" title="二十三、Java参数是值传递还是引用传递"></a>二十三、Java参数是值传递还是引用传递</h1><p><strong>值传递</strong></p>
<p><strong>Java中其实还是值传递的，只不过对于对象参数，值的内容是对象的引用。</strong></p>
<h1 id="二十四、final关键字对类、方法和成员变量的修饰"><a href="#二十四、final关键字对类、方法和成员变量的修饰" class="headerlink" title="二十四、final关键字对类、方法和成员变量的修饰"></a>二十四、final关键字对类、方法和成员变量的修饰</h1><ol>
<li>final修饰类 </li>
</ol>
<p>被修饰的类不能被继承，也没有子类。假如随意创建这些类的子类，子类可能会错误的修改父类的实现细节、出于安全原因，类的实现细节不允许有任何改动、在创建对象模型的时候，确信这个类不会再被扩展。<strong>注：如果对一个已经被final修饰的类进行继承操作，则会在编译的期间直接出现错误</strong></p>
<ol start="2">
<li>final修饰方法</li>
</ol>
<p>final修饰的方法表示此方法已经是“最后的、最终的”含义，<strong>亦即此方法不能被重写</strong>，（但是可以载多个final修饰的方法）。</p>
<p>需要注意的一点是: 重写的前提是子类可以从父类中继承此方法，如果父类中final修饰的方法的访问权限是private，将会导致子类不能直接继承到此方法，这时候再在子类中定义相同的方法名和参数，不会产生重写与final之间出现的矛盾，而是在子类中定义了新的方法。</p>
<ol start="3">
<li>final修饰变量</li>
</ol>
<p><strong>final修饰的变量表示此变量是“最后的、最终的”,一旦定义了final变量，并在首次为其显示进行了初始化之后，final修饰的变量值不可被再修改。</strong></p>
<p>final修饰的变量，无论是类属性、对象属性、形参还是局部变量，这些变量都是需要进行显示初始化（即为其显示指定初始值）。</p>
<p><strong>另外，无论对于基本数据类型还是引用数据类型，final修饰的变量都是首次初始化后值都不能修改。对于基本数据类型，很好理解。对于引用数据类型，引用变量指向的是实际的对象，但其存储的是所指向对象的地址，因此，其值不能修改并不意味着其所指向的对象不能修改。</strong> </p>
<h1 id="二十五、整型转字符串"><a href="#二十五、整型转字符串" class="headerlink" title="二十五、整型转字符串"></a>二十五、整型转字符串</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Integer i = <span class="number">1</span>;</span><br><span class="line">String string = String.valueOf(i);</span><br><span class="line">String string2 = <span class="number">1</span> + <span class="string">""</span>;</span><br><span class="line">String string3 = i.toString();</span><br></pre></td></tr></table></figure>

<h1 id="二十六、Java中的异常"><a href="#二十六、Java中的异常" class="headerlink" title="二十六、Java中的异常"></a>二十六、Java中的异常</h1><p>采用的设计模式是：<strong>责任链模式</strong></p>
<p>Java有两种异常类型：<strong>受检查异常和运行时异常</strong></p>
<p>检查异常：<strong>这些异常从程序的角度来说是必须经过捕捉处理的，否则编译通不过，</strong>比如IOException，SQLException。</p>
<p>运行时异常（不受检查异常）：Error和运行时异常</p>
<p>Error是程序无法处理的，如：OutOfMemmoryError，如果出现Error，Java虚拟机就会终止线程。</p>
<p><strong>运行时异常：如RunTimeException，IndexOutOfBoundsException，NullPointerException，这些异常一般是由程序的逻辑错误引起的，解决此类异常应该仔细排查程序，不需要进行检查。</strong></p>
<p><strong>两者的区别：</strong></p>
<p>非检查异常表示无法让程序恢复运行的异常，导致这种异常的原因通常是由于执行了错误的操作。一旦出现错误，建议让程序终止。</p>
<p><strong>受检查异常表示程序可以处理的异常。如果抛出异常的方法本身不处理或者不能处理它，那么方法的调用者就必须去处理该异常，否则调用会出错，连编译也无法通过。</strong></p>
<p>对于运行异常，建议不要用 try…catch…捕获处理，应该在程序开发调试的过程中尽量的避免，当然有一些必须要处理的，自己知道了那个部分会出现异常，而这种异常你要把它处理的你想要的结果，例如：空值处理。</p>
<p><img src="http://mycsdnblog.work/201919152249-a.png" alt></p>
<p>1.Java中的所有不正常类都继承于Throwable类。Throwable主要包括两个大类，一个是Error类，另一个是Exception类；</p>
<p><img src="http://mycsdnblog.work/201919152250-n.png" alt></p>
<p>2.其中Error类中包括虚拟机错误和线程死锁，一旦Error出现了，程序就彻底的挂了，被称为程序终结者；</p>
<p><img src="http://mycsdnblog.work/201919152250-9.png" alt></p>
<p>3.Exception类，也就是通常所说的“异常”。主要指编码、环境、用户操作输入出现问题，Exception主要包括两大类，非检查异常（RuntimeException）和检查异常（其他的一些异常）</p>
<p><img src="http://mycsdnblog.work/201919152251-y.png" alt></p>
<p>4.RuntimeException异常主要包括以下四种异常（其实还有很多其他异常，这里不一一列出）：空指针异常、数组下标越界异常、类型转换异常、算术异常。RuntimeException异常会由java虚拟机自动抛出并自动捕获<strong>（就算我们没写异常捕获语句运行时也会抛出错误！！）</strong>，此类异常的出现绝大数情况是代码本身有问题应该从逻辑上去解决并改进代码。</p>
<p><img src="http://mycsdnblog.work/201919152252-T.png" alt></p>
<p>5.检查异常，引起该异常的原因多种多样，比如说文件不存在、或者是连接错误等等。跟它的“兄弟”RuntimeException运行异常不同，<strong>该异常我们必须手动在代码里添加捕获语句来处理该异常</strong>，这也是我们学习java异常语句中主要处理的异常对象。</p>
<p><img src="http://mycsdnblog.work/201919152253-t.png" alt></p>
<h1 id="二十七、Enum"><a href="#二十七、Enum" class="headerlink" title="二十七、Enum"></a>二十七、Enum</h1><h3 id="27-1-什么是Enum"><a href="#27-1-什么是Enum" class="headerlink" title="27.1 什么是Enum"></a>27.1 什么是Enum</h3><p>Enum是一个Java的关键字，用于表示一个固定的常用值。例如，每周的天数，每年的月数等。Enum是一种类型，就像Class和Interface可以用于定义一系列的Enum常量</p>
<h3 id="27-2-Enum的特性"><a href="#27-2-Enum的特性" class="headerlink" title="27.2 Enum的特性"></a>27.2 Enum的特性</h3><ul>
<li>Enum常量隐式的加上了static和final，一旦被创建就无法修改</li>
<li>Enum提供了是类型安全的(type-safe)</li>
<li>Enum隐式的加上了values()方法，返回一个数组包含所有的Enum常量</li>
<li>两个Enum常量可以使用 <code>==</code>或<code>equals()</code>方法比较</li>
<li>Enum可以用在switch语句中，就像int，String。</li>
<li>Enum有自己的名称空间</li>
<li>Enum可以实现Java接口</li>
<li>可以在Enum中定义构造器</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.design.pattern.singleton;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-04-26 20:42</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Singleton6 &#123;</span><br><span class="line"></span><br><span class="line">    INSTANCE;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">todo</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"something"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="27-3-Enum面试问题"><a href="#27-3-Enum面试问题" class="headerlink" title="27.3 Enum面试问题"></a>27.3 Enum面试问题</h3><ol>
<li>说说Enum的继承<br>所有的enums隐式的extend了java.lang.Enum类，因为一个类只能extend一个父亲，所以enum不能extend其它的类。但是Enum可以实现许多接口</li>
<li>Enum的values,ordinal,valueOf方法<br>enums默认有values()，ordinal()和valueOf()方法。<br>values()方法返回所有在enum中定义的常量值，以数组形式返回。<br>ordinal()方法返回每个常量的索引下标，就像数组的下标<br>valueOf()方法传入字符串参数，如果enum中存在对应字符串的常量值，则返回对应的enum常量</li>
</ol>
<h1 id="二十八、Java数组复制的方法"><a href="#二十八、Java数组复制的方法" class="headerlink" title="二十八、Java数组复制的方法"></a>二十八、Java数组复制的方法</h1><h2 id="28-1-for循环"><a href="#28-1-for循环" class="headerlink" title="28.1 for循环"></a>28.1 for循环</h2><p>代码灵活，效率低</p>
<h2 id="28-2-System-arraycopy-方法"><a href="#28-2-System-arraycopy-方法" class="headerlink" title="28.2 System.arraycopy()方法"></a>28.2 System.arraycopy()方法</h2><p>通过源码可以看到，其为native方法，即原生态方法。自然效率更高</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* <span class="meta">@param</span>      src      the source array.</span><br><span class="line">* <span class="meta">@param</span>      srcPos   starting position in the source array.</span><br><span class="line">* <span class="meta">@param</span>      dest     the destination array.</span><br><span class="line">* <span class="meta">@param</span>      destPos  starting position in the destination data.</span><br><span class="line">* <span class="meta">@param</span>      length   the number of array elements to be copied.</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">arraycopy</span><span class="params">(Object src,  <span class="keyword">int</span>  srcPos,</span></span></span><br><span class="line"><span class="function"><span class="params">                                    Object dest, <span class="keyword">int</span> destPos,</span></span></span><br><span class="line"><span class="function"><span class="params">                                    <span class="keyword">int</span> length)</span></span>;</span><br></pre></td></tr></table></figure>

<h2 id="28-3-Arrays-copyOf"><a href="#28-3-Arrays-copyOf" class="headerlink" title="28.3 Arrays.copyOf()"></a>28.3 Arrays.copyOf()</h2><p>实现还是基于System.arraycopy()，所以效率自然低于System.arraycpoy()。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] copyOf(<span class="keyword">int</span>[] original, <span class="keyword">int</span> newLength) &#123;</span><br><span class="line">    <span class="keyword">int</span>[] copy = <span class="keyword">new</span> <span class="keyword">int</span>[newLength];</span><br><span class="line">    System.arraycopy(original, <span class="number">0</span>, copy, <span class="number">0</span>,</span><br><span class="line">                     Math.min(original.length, newLength));</span><br><span class="line">    <span class="keyword">return</span> copy;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="28-4-Object-clone"><a href="#28-4-Object-clone" class="headerlink" title="28.4 Object.clone()"></a>28.4 Object.clone()</h2><p>从源码来看同样也是native方法，但返回为Object类型，所以赋值时将发生强转，所以效率不如之前两种。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">native</span> Object <span class="title">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException</span>;</span><br></pre></td></tr></table></figure>

<h1 id="二十九、Java中的泛型"><a href="#二十九、Java中的泛型" class="headerlink" title="二十九、Java中的泛型"></a>二十九、Java中的泛型</h1><h1 id="三十、Java中的迭代器"><a href="#三十、Java中的迭代器" class="headerlink" title="三十、Java中的迭代器"></a>三十、Java中的迭代器</h1><p>迭代器模式：就是提供一种方法对一个容器对象中的各个元素进行访问，而又不暴露该对象容器的内部细节。</p>
<p>Iterator遍历时不可以删除集合中的元素问题</p>
<h1 id="三十一、Java中的内部类作用"><a href="#三十一、Java中的内部类作用" class="headerlink" title="三十一、Java中的内部类作用"></a>三十一、Java中的内部类作用</h1><p><strong>1.内部类可以很好的实现隐藏</strong></p>
<p> <strong>一般的非内部类，是不允许有 private 与protected权限的，但内部类可以</strong></p>
<p><strong>2.内部类拥有外围类的所有元素的访问权限</strong></p>
<p><strong>3.可实现多重继承</strong></p>
<p><strong>4.可以避免修改接口而实现同一个类中两种同名方法的调用。</strong></p>
<p>如果，你的类要继承一个类，还要实现一个接口，可是你发觉你继承的类和接口里面有两个同名的方法怎么办？你怎么区分它们？？这就需要我们的内部类了。</p>
<h1 id="三十二、如何解析JSON"><a href="#三十二、如何解析JSON" class="headerlink" title="三十二、如何解析JSON"></a>三十二、如何解析JSON</h1><h1 id="三十三、不用中间变量交换两个数"><a href="#三十三、不用中间变量交换两个数" class="headerlink" title="三十三、不用中间变量交换两个数"></a>三十三、不用中间变量交换两个数</h1><p>a=a+b b=a-b a=a-b</p>
<p>a= a ^ b b = a ^ b a = a ^ b</p>
<h1 id="三十四、Java中对象的大小"><a href="#三十四、Java中对象的大小" class="headerlink" title="三十四、Java中对象的大小"></a>三十四、Java中对象的大小</h1><h2 id="34-1-Java对象结构"><a href="#34-1-Java对象结构" class="headerlink" title="34.1 Java对象结构"></a>34.1 Java对象结构</h2><p><img src="http://mycsdnblog.work/201919111010-0.png" alt></p>
<ol>
<li>Mark Word：存储对象运行时记录信息（<strong>存储对象的HashCode、分代年龄和锁标记位</strong>），占用内存大小与机器位数一样，即<strong>32位机占4字节，64位机占8字节</strong></li>
<li>元数据指针：指向描述类型的Klass对象（Java类的C++对等体）的指针，Klass对象包含了实例对象所属类型的元数据，因此该字段被称为元数据指针，JVM在运行时将频繁使用这个指针定位到位于方法区内的类型信息。<strong>占用内存大小与机器位数一样</strong>。</li>
<li>数组长度：数组对象特有，4个字节</li>
<li>实例数据：实例数据就是8大基本数据类型byte、short、int、long、float、double、char、boolean（对象类型也是由这8大基本数据类型复合而成），每种数据类型占多少字节就不一一例举了</li>
<li>填充：不定，<strong>HotSpot的对齐方式为8字节对齐，即一个对象必须为8字节的整数倍</strong>，因此如果最后前面的数据大小为17则填充7，前面的数据大小为18则填充6，以此类推</li>
</ol>
<p>为了保证效率，Java编译期在编译Java对象的时候，通过字段类型对Java对象的字段会进行排序，具体顺序如下表所示：</p>
<p><img src="http://mycsdnblog.work/201919111012-s.png" alt></p>
<p>元数据指针的大小。元数据指针是一个引用类型，因此正常来说64位机元数据指针应当为8字节，32位机元数据指针应当为4字节，<strong>但是HotSpot中有一项优化是对元数据类型指针进行压缩存储</strong>，使用JVM参数：</p>
<ul>
<li>-XX:+UseCompressedOops开启压缩</li>
<li>-XX:-UseCompressedOops关闭压缩</li>
</ul>
<p>HotSpot默认是前者，即开启元数据指针压缩，当开启压缩的时候，64位机上的元数据指针将占据4个字节的大小。换句话说就是<strong>当开启压缩的时候，64位机上的引用将占据4个字节，否则是正常的8字节</strong>。</p>
<h2 id="34-2-Java对象内存大小计算"><a href="#34-2-Java对象内存大小计算" class="headerlink" title="34.2 Java对象内存大小计算"></a>34.2 Java对象内存大小计算</h2><p>首先是Object对象的大小：</p>
<ol>
<li>开启指针压缩时，8字节Mark Word + 4字节元数据指针 = 12字节，由于12字节不是8的倍数，因此填充4字节，对象Object占据16字节内存</li>
<li>关闭指针压缩时，8字节Mark Word + 8字节元数据指针 = 16字节，由于16字节正好是8的倍数，因此不需要填充字节，对象Object占据16字节内存</li>
</ol>
<p>接着是字符’a’的大小：</p>
<ol>
<li>开启指针压缩时，8字节Mark Word + 4字节元数据指针 + 2字节char = 14字节，由于14字节不是8的倍数，因此填充2字节，字符’a’占据16字节内存</li>
<li>关闭指针压缩时，8字节Mark Word + 8字节元数据指针 + 2字节char = 18字节，由于18字节不是8的倍数，因此填充6字节，字符’a’占据24字节内存</li>
</ol>
<p>接着是整型1的大小：</p>
<ol>
<li>开启指针压缩时，8字节Mark Word + 4字节元数据指针 + 4字节int = 16字节，由于16字节正好是8的倍数，因此不需要填充字节，整型1占据16字节内存</li>
<li>关闭指针压缩时，8字节Mark Word + 8字节元数据指针 + 4字节int = 20字节，由于20字节正好是8的倍数，因此填充4字节，整型1占据24字节内存</li>
</ol>
<p>接着是字符串”aaaaa”的大小，所有静态字段不需要管，只关注实例字段，String对象中实例字段有”char value[]”与”int hash”，由此可知：</p>
<ol>
<li>开启指针压缩时，8字节Mark Word + 4字节元数据指针 + 4字节引用 + 4字节int = 20字节，由于20字节不是8的倍数，因此填充4字节，字符串”aaaaa”占据24字节内存</li>
<li>关闭指针压缩时，8字节Mark Word + 8字节元数据指针 + 8字节引用 + 4字节int = 28字节，由于28字节不是8的倍数，因此填充4字节，字符串”aaaaa”占据32字节内存</li>
</ol>
<p>最后是长度为1的char型数组的大小：</p>
<ol>
<li>开启指针压缩时，8字节的Mark Word + 4字节的元数据指针 + 4字节的数组大小引用 + 2字节char = 18字节，由于18字节不是8的倍数，因此填充6字节，长度为1的char型数组占据24字节内存</li>
<li>关闭指针压缩时，8字节的Mark Word + 8字节的元数据指针 + 8字节的数组大小引用 + 2字节char = 26字节，由于26字节不是8的倍数，因此填充6字节，长度为1的char型数组占据32字节内存</li>
</ol>
<h1 id="三十五、Class-forName-和ClassLoader-loadClass的区别"><a href="#三十五、Class-forName-和ClassLoader-loadClass的区别" class="headerlink" title="三十五、Class.forName()和ClassLoader.loadClass的区别"></a>三十五、Class.forName()和ClassLoader.loadClass的区别</h1><h2 id="35-1-Java类的装载过程"><a href="#35-1-Java类的装载过程" class="headerlink" title="35.1 Java类的装载过程"></a>35.1 Java类的装载过程</h2><p><img src="http://mycsdnblog.work/201919160937-r.png" alt></p>
<p>1.装载：通过类的全限定名获取二进制字节流，将二进制字节流转换成方法区中的运行时数据结构，在内存中生成Java.lang.class对象； </p>
<p>2.链接：执行下面的校验、准备和解析步骤，其中解析步骤是可以选择的； </p>
<ul>
<li>校验：检查导入类或接口的二进制数据的正确性；（文件格式验证，元数据验证，字节码验证，符号引用验证） </li>
<li>准备：给类的静态变量分配并初始化存储空间； </li>
<li>解析：将常量池中的符号引用转成直接引用； </li>
</ul>
<p>3.初始化：激活类的静态变量的初始化Java代码和静态Java代码块，并初始化程序员设置的变量值。</p>
<h2 id="35-2-Class-forName-和ClassLoader-loadClass"><a href="#35-2-Class-forName-和ClassLoader-loadClass" class="headerlink" title="35.2 Class.forName()和ClassLoader.loadClass"></a>35.2 <strong>Class.forName()和ClassLoader.loadClass</strong></h2><p>Class.forName(className)方法，内部实际调用的方法是  Class.forName(className,true,classloader);</p>
<p>第2个boolean参数表示类是否需要初始化，  Class.forName(className)默认是需要初始化。</p>
<p>一旦初始化，就会触发目标对象的 static块代码执行，static参数也也会被再次初始化。</p>
<p>ClassLoader.getSystemClassLoader().loadClass(className)方法，内部实际调用的方法是  ClassLoader.getSystemClassLoader().loadClass(className,false);</p>
<p>第2个 boolean参数，表示目标对象是否进行链接，false表示不进行链接，由上面介绍可以，</p>
<p>不进行链接意味着不进行包括初始化等一些列步骤，那么静态块和静态对象就不会得到执行</p>
<h2 id="35-3-为什么数据库连接要使用Class-forName-className"><a href="#35-3-为什么数据库连接要使用Class-forName-className" class="headerlink" title="35.3 为什么数据库连接要使用Class.forName(className)"></a>35.3 为什么数据库连接要使用Class.forName(className)</h2><p>JDBC  Driver源码如下,因此使用Class.forName(classname)才能在反射回去类的时候执行static块。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        java.sql.DriverManager.registerDriver(<span class="keyword">new</span> Driver());</span><br><span class="line">    &#125; <span class="keyword">catch</span> (SQLException E) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">"Can't register driver!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="35-4-Class-forName，Class-class，getClass-的区别"><a href="#35-4-Class-forName，Class-class，getClass-的区别" class="headerlink" title="35.4 Class.forName，Class.class，getClass()的区别"></a>35.4 Class.forName，Class.class，getClass()的区别</h2><p>Class.forName：会触发静态初始化</p>
<p>Class.class：将类装载进JVM中，不做初始化工作</p>
<p>getClass()：对类进行静态和非静态初始化</p>
<h1 id="三十六、序列化版本号serialVersionUID的作用"><a href="#三十六、序列化版本号serialVersionUID的作用" class="headerlink" title="三十六、序列化版本号serialVersionUID的作用"></a>三十六、序列化版本号serialVersionUID的作用</h1><p>Java中序列化，实现Serializable接口</p>
<p>serialVersionUID的主要作用有以下两个：</p>
<p>1、能够成功反序列化</p>
<p>2、版本控制</p>
<ul>
<li>在某些场合，希望类的不同版本对序列化兼容，因此需要确保类的不同版本具有相同的serialVersionUID；在某些场合，不希望类的不同版本对序列化兼容，因此需要确保类的不同版本具有不同的serialVersionUID。 </li>
<li>当你序列化了一个类实例后，希望更改一个字段或添加一个字段，不设置serialVersionUID，所做的任何更改都将导致无法反序化旧有实例，并在反序列化时抛出一个异常。如果你添加了serialVersionUID，在反序列旧有实例时，新添加或更改的字段值将设为初始化值（对象为null，基本类型为相应的初始默认值），字段被删除将不设置。 </li>
</ul>
<h1 id="三十七、MVC和MVVM"><a href="#三十七、MVC和MVVM" class="headerlink" title="三十七、MVC和MVVM"></a>三十七、MVC和MVVM</h1><p>MVC，Model View Controller，是软件架构中最常见的一种框架，简单来说就是通过controller的控制去操作model层的数据，并且返回给view层展示。</p>
<p><img src="http://mycsdnblog.work/201919041924-a.png" alt></p>
<h1 id="三十八、Java中char可以表示一个汉字吗？"><a href="#三十八、Java中char可以表示一个汉字吗？" class="headerlink" title="三十八、Java中char可以表示一个汉字吗？"></a>三十八、Java中char可以表示一个汉字吗？</h1><p>在uft8编码下占三个字节；<br><strong>在GBK编码下占2个字节；</strong><br>但是如果 char表示英文字母：<br>在uft8编码下占一个字节；<br><strong>在GBK编码下还是占2个字节；</strong> </p>
<p><strong>所以char类型的值不管是英文还是中文都是统一两个字节！</strong> </p>
<h1 id="三十九、Java对象的生命周期"><a href="#三十九、Java对象的生命周期" class="headerlink" title="三十九、Java对象的生命周期"></a>三十九、Java对象的生命周期</h1><p>在Java中，对象的生命周期包括以下几个阶段：</p>
<ol>
<li><p>创建阶段(Created)</p>
</li>
<li><p>应用阶段(In Use)</p>
</li>
<li><p>不可见阶段(Invisible)</p>
<p>当一个对象处于不可见阶段时，说明程序本身不再持有该对象的任何强引用，虽然该这些引用仍然是存在着的。</p>
</li>
<li><p>不可达阶段(Unreachable)</p>
<p>对象处于不可达阶段是指该对象不再被任何强引用所持有</p>
<p>与“不可见阶段”相比，“不可见阶段”是指程序不再持有该对象的任何强引用，这种情况下，该对象仍可能被JVM等系统下的某些已装载的静态变量或线程或JNI等强引用持有着，这些特殊的强引用被称为”GC root”。存在着这些GC root会导致对象的内存泄露情况，无法被回收。</p>
</li>
<li><p>收集阶段(Collected)</p>
<p>当垃圾回收器发现该对象已经处于“不可达阶段”并且垃圾回收器已经对该对象的内存空间重新分配做好准备时，则对象进入了“收集阶段”。如果该对象已经重写了finalize()方法，则会去执行该方法的终端操作。</p>
</li>
<li><p>终结阶段(Finalized)</p>
<p>当对象执行完finalize()方法后仍然处于不可达状态时，则该对象进入终结阶段。在该阶段是等待垃圾回收器对该对象空间进行回收。</p>
</li>
<li><p>对象空间重分配阶段(De-allocated)</p>
<p>垃圾回收器对该对象的所占用的内存空间进行回收或者再分配了，则该对象彻底消失了，称之为“对象空间重新分配阶段”。</p>
</li>
</ol>
<h1 id="四十、理解Java中的各种O"><a href="#四十、理解Java中的各种O" class="headerlink" title="四十、理解Java中的各种O"></a>四十、理解Java中的各种O</h1><p><strong>1、PO(persistant object) 持久对象</strong> </p>
<p>对应于DAO层中操作的对象</p>
<ul>
<li>有时也被称为Data对象，对应数据库中的entity，可以简单认为一个PO对应数据库中的一条记录，多个记录可以用PO的集合。</li>
<li>在o/r 映射的时候出现的概念,如果没有o/r映射,就没有这个概念存在了。</li>
<li>PO中应该不包含任何对数据库的操作。</li>
</ul>
<p><strong>2、VO(value object) 值对象</strong> </p>
<p>对应View层，用于显示的Java Bean</p>
<ul>
<li><p>主要对应页面显示（web页面(jsp…)/swt、swing界面）的数据对象，所以它可以和表对应，也可以不（大部分情况是表所有字段集合的子集），这根据业务的需要。</p>
</li>
<li><p>与DTO的区别是：DTO用于无界面的web service传输中而VO用于界面的展示，可以把DTO转化为VO提供给前台。</p>
</li>
</ul>
<p><strong>3、DTO(Data Transfer Object)，数据传输对象</strong> </p>
<p>在应用程序不同tie(关系)之间传输的对象 </p>
<p>对应Controller层中，接收和返回的Java Bean。</p>
<ul>
<li>用在需要跨进程或远程传输时，它不应该包含业务逻辑。</li>
<li>比如一张表有100个字段，那么对应的PO就有100个属性（大多数情况下，DTO 内的数据来自多个表）。但view层只需显示10个字段，没有必要把整个PO对象传递到client，这时我们就可以用只有这10个属性的DTO来传输数据到client，这样也不会暴露server端表结构。到达客户端以后，如果用这个对象来对应界面显示，那此时它的身份就转为VO。</li>
</ul>
<p><strong>4、BO(business object) 业务对象</strong> </p>
<p>对应Service中的Java Bean </p>
<ul>
<li><p>从业务模型的角度看,见UML元件领域模型中的领域对象.封装业务逻辑的java对象,通过调用DAO方法,结合PO,VO进行业务操作。</p>
</li>
<li><p>根据业务逻辑，将封装业务逻辑为一个对象，可以包括多个PO，通常需要将BO转化成PO，才能进行数据的持久化，反之，从DB中得到的PO，需要转化成BO才能在业务层使用。</p>
</li>
</ul>
<p>关于BO主要有三种概念</p>
<ul>
<li>只包含业务对象的属性</li>
<li>只包含业务方法</li>
<li>两者都包含</li>
</ul>
<p>在实际使用中，认为哪一种概念正确并不重要，关键是实际应用中适合自己项目的需要。</p>
<p><strong>5、DAO(data access object) 数据访问对象</strong><br>是一个sun的一个标准j2ee设计模式，这个模式中有个接口就是DAO，它负持久层的操作。为业务层提供接口。此对象用于访问数据库。通常和PO结合使用，DAO中包含了各种数据库的操作方法。通过它的方法,结合PO对数据库进行相关的操作。夹在业务逻辑与数据库资源中间。配合VO,<br>提供数据库的CRUD操作…   </p>
<p><strong>6、POJO(plain ordinary java object) 简单无规则java对象</strong><br>纯的传统意义的java对象。就是说在一些Object/Relation<br>Mapping工具中，能够做到维护数据库表记录的persisent<br>object完全是一个符合Java Bean规范的纯Java对象，没有增加别的属性和方法。我的理解就是最基本的Java<br>Bean，只有属性字段及setter和getter方法！。 </p>
<p><img src="http://mycsdnblog.work/201919161441-u.png" alt></p>
<h1 id="四十一、Spring-Boot中的classpath"><a href="#四十一、Spring-Boot中的classpath" class="headerlink" title="四十一、Spring Boot中的classpath"></a>四十一、Spring Boot中的classpath</h1><p>springboot项目创建完成后，会生成该项目名称+iml后缀的文件。该文件位于项目的根目录下。<br>打开后，在name=”NewModuleRootManager”的component声明中，会有几个默认content声明</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">content</span> <span class="attr">url</span>=<span class="string">"file://$MODULE_DIR$"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">sourceFolder</span> <span class="attr">url</span>=<span class="string">"file://$MODULE_DIR$/src/main/java"</span> <span class="attr">isTestSource</span>=<span class="string">"false"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">sourceFolder</span> <span class="attr">url</span>=<span class="string">"file://$MODULE_DIR$/src/main/resources"</span> <span class="attr">type</span>=<span class="string">"java-resource"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">sourceFolder</span> <span class="attr">url</span>=<span class="string">"file://$MODULE_DIR$/src/test/java"</span> <span class="attr">isTestSource</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">excludeFolder</span> <span class="attr">url</span>=<span class="string">"file://$MODULE_DIR$/target"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">content</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>其中sourceFolder 中声明的就是classpath，只是类型不同。对应的工程文件目录：</p>
<p><img src="http://mycsdnblog.work/201919171559-E.png" alt></p>
<p>其中蓝色的java目录：保存项目的java文件。<br> resources是项目的资源目录，里面通常包含static与templates目录<br> 绿色的test/java目录是编写的测试类的目录。</p>
<ul>
<li>工程编译后，会将src/main/java中的.java文件按照包文件结构编译成.class存入target/classes目录。</li>
<li>工程编译后，会将src/main/resources中的static、templates目录里的文件分别拷贝入classes/static 与classes/template 中。结构保持一致。</li>
<li>工程编译后，会将test/java 中的文件编译进classes/test-classes目录中。</li>
</ul>
<p><strong>可以根据项目需要，修改.iml文件的content，来添加不同的资源路径。</strong></p>
<h1 id="四十二、静态内部类的和普通内部类的区别"><a href="#四十二、静态内部类的和普通内部类的区别" class="headerlink" title="四十二、静态内部类的和普通内部类的区别"></a>四十二、静态内部类的和普通内部类的区别</h1><p>定义在一个类内部的类叫内部类，包含内部类的类称为外部类。内部类可以声明public、protected、private等访问限制，可以声明 为abstract的供其他内部类或外部类继承与扩展，或者声明为static、final的，也可以实现特定的接口。外部类按常规的类访问方式使用内部类，唯一的差别是<strong>外部类可以访问内部类的所有方法与属性，包括私有方法与属性</strong>。</p>
<h2 id="42-1-创建实例"><a href="#42-1-创建实例" class="headerlink" title="42.1 创建实例"></a>42.1 创建实例</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.inner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-07-25 21:26</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OutClass</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">OutClass</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> OutClass instance;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> OutClass <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (OutClass<span class="class">.<span class="keyword">class</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="keyword">null</span>)&#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> OutClass();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">InnerClass</span></span>&#123;</span><br><span class="line">        InnerClass()&#123;</span><br><span class="line">            System.out.println(<span class="string">"内部类初始化"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticInnerClass</span></span>&#123;</span><br><span class="line">        StaticInnerClass()&#123;</span><br><span class="line">            System.out.println(<span class="string">"静态内部类初始化"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.inner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-07-25 21:36</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        OutClass.InnerClass innerClass = OutClass.getInstance().<span class="keyword">new</span> InnerClass();</span><br><span class="line"></span><br><span class="line">        OutClass.StaticInnerClass staticInnerClass = <span class="keyword">new</span> OutClass.StaticInnerClass();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="42-2-内部类中的this"><a href="#42-2-内部类中的this" class="headerlink" title="42.2 内部类中的this"></a>42.2 内部类中的this</h2><p> 内部类中的this与其他类一样是指的本身。创建内部类对象时，它会与创造它的外围对象有了某种联系，于是能访问外围类的所有成员，不需任何特殊条件，可理 解为内部类链接到外部类。 用外部类创建内部类对象时，此内部类对象会秘密的捕获一个指向外部类的引用，于是，可以通过这个引用来访问外围类的成员。</p>
<h2 id="42-3-外部类访问内部类"><a href="#42-3-外部类访问内部类" class="headerlink" title="42.3 外部类访问内部类"></a>42.3 外部类访问内部类</h2><p>内部类类似外部类的属性，因此访问内部类对象时总是需要一个创建好的外部类对象。内部类对象通过‘外部类名.this.xxx’的形式访问外部类的属性与方法。如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.inner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: 98050</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Time</span>: 2019-07-25 21:26</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Feature</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OutClass</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name = <span class="string">"123"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">OutClass</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> OutClass instance;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> OutClass <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (OutClass<span class="class">.<span class="keyword">class</span>)</span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="keyword">null</span>)&#123;</span><br><span class="line">                    instance = <span class="keyword">new</span> OutClass();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">InnerClass</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> age = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        InnerClass()&#123;</span><br><span class="line">            System.out.println(<span class="string">"内部类初始化"</span>);</span><br><span class="line">            System.out.println(name);</span><br><span class="line">            System.out.println(age);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticInnerClass</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">        StaticInnerClass()&#123;</span><br><span class="line">            System.out.println(<span class="string">"静态内部类初始化"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="42-4-内部类向上转型"><a href="#42-4-内部类向上转型" class="headerlink" title="42.4 内部类向上转型"></a>42.4 内部类向上转型</h2><p>内部类也可以和普通类一样拥有向上转型的特性。将内部类向上转型为基类型，尤其是接口时，内部类就有了用武之地。如果内部类是private的，只可以被它的外部类访问，从而完全隐藏实现的细节。</p>
<h2 id="42-5-方法内的类"><a href="#42-5-方法内的类" class="headerlink" title="42.5 方法内的类"></a>42.5 方法内的类</h2><p>方法内创建的类（注意方法中也能定义类），不能加访问修饰符。另外，方法内部的类也不是在调用方法时才会创建的，它们一样也被事先编译了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">MethodInnerClass</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="42-6-静态内部类"><a href="#42-6-静态内部类" class="headerlink" title="42.6 静态内部类"></a>42.6 静态内部类</h2><p>定义静态内部类：在定义内部类的时候，可以在其前面加上一个权限修饰符static。此时这个内部类就变为了静态内部类。</p>
<p>通常称为<strong>嵌套类</strong>，当内部类是static时，意味着：</p>
<p>   [1]<strong>要创建嵌套类的对象，并不需要其外围类的对象</strong>；</p>
<p>   [2]<strong>不能从嵌套类的对象中访问非静态的外围类对象</strong>（不能够从静态内部类的对象中访问外部类的非静态成员）；</p>
<p>嵌套类与普通的内部类还有一个区别：普通内部类的字段与方法，只能放在类的外部层次上，<strong>所以普通的内部类不能有static数据和static字段</strong>， 也不能包含嵌套类。但是在嵌套类里可以包含所有这些东西。<strong>也就是说，在非静态内部类中不可以声明静态成员，只有将某个内部类修饰为静态类，然后才能够在这 个类中定义静态的成员变量与成员方法。</strong></p>
<p>另外，在创建静态内部类时不需要将静态内部类的实例绑定在外部类的实例上。普通非静态内部类的 对象是依附在外部类对象之中的，要在一个外部类中定义一个静态的内部类，不需要利用关键字new来创建内部类的实例。静态类和方法只属于类本身，并不属于 该类的对象，更不属于其他外部类的对象。</p>
<h2 id="42-7-内部类标识符"><a href="#42-7-内部类标识符" class="headerlink" title="42.7 内部类标识符"></a>42.7 内部类标识符</h2><p>每个类会产生一个.class文件，文件名即为类名。同样，内部类也会产生这么一个.class文件，但是它的名称却不是内部类的类名，而是有着严格的限制：<strong>外围类的名字，加上$,再加上内部类名字</strong>。</p>
<h2 id="42-8-为什么使用内部类"><a href="#42-8-为什么使用内部类" class="headerlink" title="42.8 为什么使用内部类"></a>42.8 为什么使用内部类</h2><p><strong>内部类一般只为其外部类使用；</strong></p>
<p><strong>内部类提供了某种进入外部类的窗户；</strong></p>
<p><strong>也是最吸引人的原因，每个内部类都能独立地继承一个接口，而无论外部类是否已经继承了某个接口。因此，内部类使多重继承的解决方案变得更加完整。</strong></p>
<h1 id="四十三、接口的幂等性"><a href="#四十三、接口的幂等性" class="headerlink" title="四十三、接口的幂等性"></a>四十三、接口的幂等性</h1><p>同步锁</p>
<p>分布式锁</p>
<p>业务字段加唯一约束</p>
<p>令牌表+唯一约束</p>
<p>mysql的insert ignore或者on duplicate key update</p>
<p>共享锁+普通索引</p>
<p>利用MQ或者Redis扩展</p>
<p>使用redis去重</p>
<h1 id="四十四、Java自动类型转换"><a href="#四十四、Java自动类型转换" class="headerlink" title="四十四、Java自动类型转换"></a>四十四、Java自动类型转换</h1><p><img src="http://mycsdnblog.work/201919011617-G.png" alt></p>

      
    </div>
    
    
    

    
      <div>
        <div id="wechat_subscriber" style="display: block; padding: 10px 0; margin: 20px auto; width: 100%; text-align: center">
    <img id="wechat_subscriber_qcode" src="/uploads/wechat-qcode.jpg" alt="ZWB wechat" style="width: 200px; max-width: 100%;"/>
    <div>欢迎您扫一扫上面的微信公众号，订阅我的博客!</div>
</div>

      </div>
    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Java%E5%9F%BA%E7%A1%80/" rel="tag"># Java基础</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/02/18/Java%E5%9F%BA%E7%A1%80/" rel="next" title="Java基础">
                <i class="fa fa-chevron-left"></i> Java基础
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/02/18/Java%E5%BC%82%E5%B8%B8/" rel="prev" title="Java异常">
                Java异常 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
<span class="jiathis_txt">分享到：</span>
<a class="jiathis_button_fav">收藏夹</a>
<a class="jiathis_button_copy">复制网址</a>
<a class="jiathis_button_email">邮件</a>
<a class="jiathis_button_weixin">微信</a>
<a class="jiathis_button_qzone">QQ空间</a>
<a class="jiathis_button_tqq">腾讯微博</a>
<a class="jiathis_button_douban">豆瓣</a>
<a class="jiathis_button_share">一键分享</a>

<a href="http://www.jiathis.com/share?uid=2140465" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a>
<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
var jiathis_config={
  data_track_clickback:true,
  summary:"",
  shortUrl:false,
  hideMore:false
}
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=" charset="utf-8"></script>
<!-- JiaThis Button END -->
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/wechat-head.jpg"
                alt="ZWB" />
            
              <p class="site-author-name" itemprop="name">ZWB</p>
              <p class="site-description motion-element" itemprop="description">菜鸟程序员的自我修炼之路</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/ZWB999WF" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://weibo.com/u/5381379716/home?wvr=5" target="_blank" title="Weibo">
                      
                        <i class="fa fa-fw fa-globe"></i>Weibo</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/chen-feng-de-lan-yi" target="_blank" title="Zhihu">
                      
                        <i class="fa fa-fw fa-globe"></i>Zhihu</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:1643054079@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#一、final、finally、finalize的区别"><span class="nav-number">1.</span> <span class="nav-text">一、final、finally、finalize的区别</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二、Java中的String，StringBuilder，StringBuffer三者的区别"><span class="nav-number">2.</span> <span class="nav-text">二、Java中的String，StringBuilder，StringBuffer三者的区别</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三、Arrays-sort-实现原理和-Collections-sort-实现原理"><span class="nav-number">3.</span> <span class="nav-text">三、Arrays.sort 实现原理和 Collections.sort 实现原理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四、Java中boolean占几个字节"><span class="nav-number">4.</span> <span class="nav-text">四、Java中boolean占几个字节</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#五、Java基本类型所占的字节"><span class="nav-number">5.</span> <span class="nav-text">五、Java基本类型所占的字节</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#六、Java的虚函数"><span class="nav-number">6.</span> <span class="nav-text">六、Java的虚函数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#七、“方法”"><span class="nav-number">7.</span> <span class="nav-text">七、“方法”</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#7-1-Object中的方法"><span class="nav-number">7.1.</span> <span class="nav-text">7.1 Object中的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-2-String中常用的方法"><span class="nav-number">7.2.</span> <span class="nav-text">7.2 String中常用的方法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#八、Java中的浅拷贝和深拷贝"><span class="nav-number">8.</span> <span class="nav-text">八、Java中的浅拷贝和深拷贝</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#8-1-浅拷贝"><span class="nav-number">8.1.</span> <span class="nav-text">8.1 浅拷贝</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-1-基本概念"><span class="nav-number">8.1.1.</span> <span class="nav-text">8.1.1 基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-2-实现方式"><span class="nav-number">8.1.2.</span> <span class="nav-text">8.1.2 实现方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-2-深拷贝"><span class="nav-number">8.2.</span> <span class="nav-text">8.2 深拷贝</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-1-基本概念"><span class="nav-number">8.2.1.</span> <span class="nav-text">8.2.1 基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-2-实现方式"><span class="nav-number">8.2.2.</span> <span class="nav-text">8.2.2 实现方式</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#九、Java中的权限"><span class="nav-number">9.</span> <span class="nav-text">九、Java中的权限</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#十、一个class文件中可以有几个类"><span class="nav-number">10.</span> <span class="nav-text">十、一个class文件中可以有几个类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#十一、Abstract类与接口类的区别，为什么有了接口类还要用抽象类"><span class="nav-number">11.</span> <span class="nav-text">十一、Abstract类与接口类的区别，为什么有了接口类还要用抽象类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#十二、自然排序和定制排序"><span class="nav-number">12.</span> <span class="nav-text">十二、自然排序和定制排序</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#十四、equals和hashcode的区别以及联系"><span class="nav-number">13.</span> <span class="nav-text">十四、equals和hashcode的区别以及联系</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#十五：自动装箱与拆箱"><span class="nav-number">14.</span> <span class="nav-text">十五：自动装箱与拆箱</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#15-1-基本概念"><span class="nav-number">14.1.</span> <span class="nav-text">15.1 基本概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-2-实战"><span class="nav-number">14.2.</span> <span class="nav-text">15.2 实战</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#15-2-1-示例1"><span class="nav-number">14.2.1.</span> <span class="nav-text">15.2.1 示例1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15-2-2-示例2"><span class="nav-number">14.2.2.</span> <span class="nav-text">15.2.2 示例2</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#十六、equals和"><span class="nav-number">15.</span> <span class="nav-text">十六、equals和&#x3D;&#x3D;</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#十七：Java闭包和回调"><span class="nav-number">16.</span> <span class="nav-text">十七：Java闭包和回调</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#十八、hashCode"><span class="nav-number">17.</span> <span class="nav-text">十八、hashCode</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#十九、Math-abs"><span class="nav-number">18.</span> <span class="nav-text">十九、Math.abs</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二十、static关键字"><span class="nav-number">19.</span> <span class="nav-text">二十、static关键字</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二十一、Collection和Collections的区别"><span class="nav-number">20.</span> <span class="nav-text">二十一、Collection和Collections的区别</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二十二、Overload和Override的区别？"><span class="nav-number">21.</span> <span class="nav-text">二十二、Overload和Override的区别？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二十三、Java参数是值传递还是引用传递"><span class="nav-number">22.</span> <span class="nav-text">二十三、Java参数是值传递还是引用传递</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二十四、final关键字对类、方法和成员变量的修饰"><span class="nav-number">23.</span> <span class="nav-text">二十四、final关键字对类、方法和成员变量的修饰</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二十五、整型转字符串"><span class="nav-number">24.</span> <span class="nav-text">二十五、整型转字符串</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二十六、Java中的异常"><span class="nav-number">25.</span> <span class="nav-text">二十六、Java中的异常</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二十七、Enum"><span class="nav-number">26.</span> <span class="nav-text">二十七、Enum</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#27-1-什么是Enum"><span class="nav-number">26.0.1.</span> <span class="nav-text">27.1 什么是Enum</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27-2-Enum的特性"><span class="nav-number">26.0.2.</span> <span class="nav-text">27.2 Enum的特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#27-3-Enum面试问题"><span class="nav-number">26.0.3.</span> <span class="nav-text">27.3 Enum面试问题</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二十八、Java数组复制的方法"><span class="nav-number">27.</span> <span class="nav-text">二十八、Java数组复制的方法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#28-1-for循环"><span class="nav-number">27.1.</span> <span class="nav-text">28.1 for循环</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#28-2-System-arraycopy-方法"><span class="nav-number">27.2.</span> <span class="nav-text">28.2 System.arraycopy()方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#28-3-Arrays-copyOf"><span class="nav-number">27.3.</span> <span class="nav-text">28.3 Arrays.copyOf()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#28-4-Object-clone"><span class="nav-number">27.4.</span> <span class="nav-text">28.4 Object.clone()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#二十九、Java中的泛型"><span class="nav-number">28.</span> <span class="nav-text">二十九、Java中的泛型</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三十、Java中的迭代器"><span class="nav-number">29.</span> <span class="nav-text">三十、Java中的迭代器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三十一、Java中的内部类作用"><span class="nav-number">30.</span> <span class="nav-text">三十一、Java中的内部类作用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三十二、如何解析JSON"><span class="nav-number">31.</span> <span class="nav-text">三十二、如何解析JSON</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三十三、不用中间变量交换两个数"><span class="nav-number">32.</span> <span class="nav-text">三十三、不用中间变量交换两个数</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三十四、Java中对象的大小"><span class="nav-number">33.</span> <span class="nav-text">三十四、Java中对象的大小</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#34-1-Java对象结构"><span class="nav-number">33.1.</span> <span class="nav-text">34.1 Java对象结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#34-2-Java对象内存大小计算"><span class="nav-number">33.2.</span> <span class="nav-text">34.2 Java对象内存大小计算</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三十五、Class-forName-和ClassLoader-loadClass的区别"><span class="nav-number">34.</span> <span class="nav-text">三十五、Class.forName()和ClassLoader.loadClass的区别</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#35-1-Java类的装载过程"><span class="nav-number">34.1.</span> <span class="nav-text">35.1 Java类的装载过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#35-2-Class-forName-和ClassLoader-loadClass"><span class="nav-number">34.2.</span> <span class="nav-text">35.2 Class.forName()和ClassLoader.loadClass</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#35-3-为什么数据库连接要使用Class-forName-className"><span class="nav-number">34.3.</span> <span class="nav-text">35.3 为什么数据库连接要使用Class.forName(className)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#35-4-Class-forName，Class-class，getClass-的区别"><span class="nav-number">34.4.</span> <span class="nav-text">35.4 Class.forName，Class.class，getClass()的区别</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三十六、序列化版本号serialVersionUID的作用"><span class="nav-number">35.</span> <span class="nav-text">三十六、序列化版本号serialVersionUID的作用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三十七、MVC和MVVM"><span class="nav-number">36.</span> <span class="nav-text">三十七、MVC和MVVM</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三十八、Java中char可以表示一个汉字吗？"><span class="nav-number">37.</span> <span class="nav-text">三十八、Java中char可以表示一个汉字吗？</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#三十九、Java对象的生命周期"><span class="nav-number">38.</span> <span class="nav-text">三十九、Java对象的生命周期</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四十、理解Java中的各种O"><span class="nav-number">39.</span> <span class="nav-text">四十、理解Java中的各种O</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四十一、Spring-Boot中的classpath"><span class="nav-number">40.</span> <span class="nav-text">四十一、Spring Boot中的classpath</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四十二、静态内部类的和普通内部类的区别"><span class="nav-number">41.</span> <span class="nav-text">四十二、静态内部类的和普通内部类的区别</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#42-1-创建实例"><span class="nav-number">41.1.</span> <span class="nav-text">42.1 创建实例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#42-2-内部类中的this"><span class="nav-number">41.2.</span> <span class="nav-text">42.2 内部类中的this</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#42-3-外部类访问内部类"><span class="nav-number">41.3.</span> <span class="nav-text">42.3 外部类访问内部类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#42-4-内部类向上转型"><span class="nav-number">41.4.</span> <span class="nav-text">42.4 内部类向上转型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#42-5-方法内的类"><span class="nav-number">41.5.</span> <span class="nav-text">42.5 方法内的类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#42-6-静态内部类"><span class="nav-number">41.6.</span> <span class="nav-text">42.6 静态内部类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#42-7-内部类标识符"><span class="nav-number">41.7.</span> <span class="nav-text">42.7 内部类标识符</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#42-8-为什么使用内部类"><span class="nav-number">41.8.</span> <span class="nav-text">42.8 为什么使用内部类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四十三、接口的幂等性"><span class="nav-number">42.</span> <span class="nav-text">四十三、接口的幂等性</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#四十四、Java自动类型转换"><span class="nav-number">43.</span> <span class="nav-text">四十四、Java自动类型转换</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ZWB</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("35zjuv8Uz0k48OJOv8HW0dMd-gzGzoHsz", "Tebt91HLjsPhciulunLSsNa7");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
